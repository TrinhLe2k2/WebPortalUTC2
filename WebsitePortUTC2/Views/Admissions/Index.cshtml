
@{
    ViewData["Title"] = "Tuyển Sinh";
}

<span data-size="@ViewBag.PageSize" data-search="@ViewBag.txtSearch"></span>
<section id="admissions">
    <div class="container">
        <div class="row">
            <div class="col-12 col-xl-8 admissions__news">
                <div class="d-flex justify-content-between align-items-center">
                    <h5>Tin Tuyển Sinh</h5>
                    <div>
                        <select id="filterSelect" class="form-select" onchange="handleFilter(this)">
                            <option selected value="0">Filter</option>
                            @{
                                for (var i = 0; i < ViewBag.CategoriesCount; i++)
                                {
                                    <option value="@ViewBag.Categories[i].id">@ViewBag.Categories[i].name</option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="newsListPage">
                    <div>
                        <a href="" class="news-link text-decoration-none d-block my-3 text-black">
                            <div class="row bg-white rounded-4">
                                <div class="news-poster position-relative col-12 col-lg-3 d-none d-lg-block" style="padding-bottom: 15%;">
                                    <img src="~/images/news1.png" class="position-absolute w-100 h-100 rounded-4" style="object-fit: cover;" alt="">
                                </div>
                                <div class="news-description col-12 col-lg-9">
                                    <div class="ms-3">
                                        <p class="news-title fw-bold limit-tag-p">item.name</p>
                                        <p class="news-content limit-tag-p">item.description</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                
                <div class="PageNews">
                    <p class="pageCurrent">Page 0 / 0</p>
                    <nav>
                        <ul class="pagination">
                            <li class="page-item"> <a class="page-link" href=""> previous </a></li>
                            <li class="page-item"> <a class="page-link bg-primary" href="#">1</a></li>
                            <li class="page-item"> <a class="page-link" href="#">2</a></li>
                            <li class="page-item"> <a class="page-link" href="#">3</a></li>
                            <li class="page-item"> <a class="page-link" href="">next</a></li>
                        </ul>
                    </nav>
                </div>

            </div>
            <div class="col-12 col-xl-4 admissions__type">
                <h5 class="mb-4">Tuyển Sinh</h5>
                <div class="mb-3">
                    <a href="#" class="btn btn-primary w-100 py-2 fw-bold">
                        Tuyển sinh sau đại học
                    </a>
                </div>
                <div class="mb-3">
                    <a href="#" class="btn btn-warning text-white w-100 py-2 fw-bold">
                        Tuyển sinh đại học
                    </a>
                </div>
                <div class="mb-3">
                    <a href="#" class="btn btn-success w-100 py-2 fw-bold">
                        Tuyển sinh liên thông - Bằng 2 - VHVL
                    </a>
                </div>
                <div class="mb-3">
                    <a href="#" class="btn btn-danger w-100 py-2 fw-bold">
                        Kết quả tuyển sinh
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        var record = document.querySelector('span[data-size]').dataset.size;
        var txtSearch = document.querySelector('span[data-search]').dataset.search;

        ResetActiveNavLink();
        ActiveNavLink(".admissions");

        function handleClickPage(item) {
            var filter = document.getElementById('filterSelect').value;
            GetAPIForPageNews(item.dataset.page, filter, record, txtSearch);
        }

        function handleFilter(filter) {
            console.log(filter.value)
            GetAPIForPageNews(1, filter.value, record, txtSearch);
        }

        GetAPIForPageNews(1, 0, record, txtSearch);
    </script>
}